<%= render 'client/shared/nav' %>
<div class="container d-flex justify-content-center pt-3 pb-5">
  <div class="w-100">
    <%= render 'client/users/me/shared/profile' %>
    <%= render 'client/users/me/shared/links' %>

    <% @addresses.each do |address| %>
      <div class="card shadow p-4 my-2" data-controller="address" data-action="click->address#setAddressId" data-address-id="<%= address.id %>">
        <div class="d-flex justify-content-between">
          <div>Name:
            <span class="ms-2 fw-semibold"><%= address.name %></span>
          </div>

          <div>
            <span class="badge bg-info"><%= 'Default' if address.is_default %></span>
            <span class="badge bg-primary"><%= address.genre %></span>
          </div>
        </div>

        <div>Phone Number:
          <span class="ms-2 fw-semibold"><%= address.phone_number %></span>
        </div>
        <div>Remark:
          <span class="ms-2 fw-semibold"><%= address.remark.blank? ? 'N/A' : address.remark %></span></div>
        <div>Address:
          <span class="ms-2 fw-semibold"><%= address.street_address %></span></div>
        <div>
          <span class="fw-semibold"><%= "#{ address.barangay.name }, #{ address.city.name } City, #{ address.province.name }" %></span>
        </div>
      </div>
    <% end %>

    <%= form_with model: @winner, url: me_claim_prize_path do |f| %>
      <%= f.hidden_field :address_id %>
      <div class="col-12 actions text-center my-2">
        <%= f.submit "Claim Prize", class: 'btn btn-md btn-success w-100' %>
      </div>
    <% end %>
  </div>
</div>
<%= render 'client/shared/footer' %>